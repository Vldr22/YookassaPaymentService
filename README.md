# YookassaPaymentService
Проект представляет собой реализацию backend функционала осуществления платежей с помощью сервиса Yookassa 
в соответствии с требованиями PCI DSS (стандарт безопасности данных, разработанный для защиты 
информации о платёжных картах) на Java Spring.

После регистрации путем подтверждения четырехзначного SMS-кода, клиентам предоставляется возможность осуществлять 
обычные покупки, оформлять подписку. Сохранение метода оплаты реализовано путем записи в БД 
данных о платежном токене, предоставляемого Yookassa в случае успешно завершенного платежа имеющего 
статус "saved". Предусмотрен механизм взымания комиссии.

Авторизация сотрудников проводится путем подтверждения кода "условно" отправленного на email, сделать 
запрос на формирования которого может Администратор. Код для авторизации администратора создается и 
отправляется на заранее предусмотренный email при первом запуске приложения.

Сотрудники могут получать отсортированный список клиентов, транзакций, реализовывать возврат средств.
Администратор, помимо генерации регистрационных кодов для сотрудников, может менять настройку комиссии.

Проект использует технологии:
1. PostgreSQL - в качестве хранения информации о настройках приложения, данных клиентов, их транзакциях, платежных 
токенов и др данных.
2. Spring Security - в проекте предусмотрена авторизация клиентов и сотрудников на основе JWT-token функционала
3. FeignClient - для более удобного доступа к URL Yookassa. 
4. Spring MVC - построение архитектуры системы HTTP-запросов/ответов. Endpoints оформлены с использованием функционала 
RestController. Реализован глобальный обработчик исключений, оптимизирован формат ответов на HTTP запросы.
5. Querydsl - установка фильтров для ответов поисковых запросов в БД.
6. Flyway - миграция БД.
7. Hibernate + Spring Data (JPA) - основные технологии использования функционала связанного с БД. 
8. Модуль Spring Task Scheduling в Spring Context - использован для автоматического удаления "EXPIRED" SMS-кодов, 
обновления записей о статусе транзакций, получения платежных токенов от Yookassa.

P.S.
Должны быть в дальнейшем добавлены и реализованы еще:
1. Docker
2. Kafka

   


